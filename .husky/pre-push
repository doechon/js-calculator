#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

CURRENT_BRANCH=$(git branch --show-current)

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç –≤–µ—Ç–∫–∏: vX.Y.Z-description
if ! echo "$CURRENT_BRANCH" | grep -q "^v[0-9]+\.[0-9]+\.[0-9]+-[a-z-]\+$"; then
    echo "‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤–µ—Ç–∫–∏!"
    echo "‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: vX.Y.Z-description"
    echo "üìù –ü—Ä–∏–º–µ—Ä: v2.2.0-normalize-operators"
    echo "üí° –¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞: $CURRENT_BRANCH"
    exit 1
fi

echo "‚úÖ –§–æ—Ä–º–∞—Ç –≤–µ—Ç–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: $CURRENT_BRANCH"